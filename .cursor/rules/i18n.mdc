---
description: All user-facing text must go through i18n translations
globs: "**/*.{ts,tsx}"
alwaysApply: false
---

# i18n Text Convention

All user-facing text must be stored in `src/i18n/translations.ts` and accessed via the `text()` function from `@/i18n`. No hardcoded strings in UI components or layout metadata.

## Rule

- Add new strings to `src/i18n/translations.ts` with flat keys (e.g. `"feature.key"`)
- Import `text` from `@/i18n` and use it for all displayed text
- Use `text("key", { param: value })` for strings with placeholders

## Examples

```typescript
// ❌ BAD - hardcoded strings
<p>Loading...</p>
<p className="text-red-600">Error fetching data</p>
<button>Previous</button>
export const metadata = { title: "My App" };

// ✅ GOOD - i18n
import { text } from "@/i18n";

<p>{text("encounters.loading")}</p>
<p className="text-red-600">{text("encounters.error")}</p>
<button>{text("encounters.previous")}</button>
export const metadata = { title: text("app.title") };
```

## Placeholder interpolation

For strings with dynamic values (e.g. "Page 1 of 5"):

```typescript
// In translations.ts: "encounters.pageOf": "Page {page} of {total}"
text("encounters.pageOf", { page: 1, total: 5 });
```
